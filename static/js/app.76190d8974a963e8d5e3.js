webpackJsonp([1],{"0EQ5":function(t,e,n){var i=n("v3xi");t.exports=function(t,e){var n=Math.max(t.width,t.height),i=Math.ceil(n/e),o=new Map;return{occupyCoordinates:function(e){var i=e.x,s=e.y;(function(e,i){!function(e,i){if(t.left>e||t.left+n<e)throw new Error("x is out of bounds");if(t.top>i||t.top+n<i)throw new Error("y is out of bounds")}(e,i);var s=u(e),d=o.get(s);d||(d=new Map,o.set(s,d));var f=a(i),c=d.get(f);c||(c=new r,d.set(f,c));return c})(i,s).occupy(e)},isTaken:function(t,e,n){if(!o)return!1;for(var r=u(t),s=a(e),d=-1;d<2;++d){var f=r+d;if(!(f<0||f>=i)){var c=o.get(f);if(c)for(var h=-1;h<2;++h){var l=s+h;if(!(l<0||l>=i)){var p=c.get(l);if(p&&p.isTaken(t,e,n))return!0}}}}return!1},isOutside:function(e,n){return e<t.left||e>t.left+t.width||n<t.top||n>t.top+t.height}};function u(e){return Math.floor(i*(e-t.left)/n)}function a(e){return Math.floor(i*(e-t.top)/n)}};var r=function(){function t(){i(this,t),this.children=null}return t.prototype.occupy=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.isTaken=function(t,e,n){if(!this.children)return!1;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.x-t,u=r.y-e;if(n(Math.sqrt(o*o+u*u),r))return!0}return!1},t}()},"7PpZ":function(t,e,n){var i=n("v3xi"),r=function(){function t(e,n){i(this,t),this.x=e,this.y=n}return t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.mulScalar=function(e){return new t(this.x*e,this.y*e)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.normalize=function(){var t=this.length();this.x/=t,this.y/=t},t.prototype.distanceTo=function(t){var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},t}();t.exports=r},KCfz:function(t,e){t.exports=function(t){if(!t)throw new Error("Canvas is required");var e=t.getContext("2d"),n=t.width,i=t.height;return function(t,n,i){e.beginPath(),e.strokeStyle="rgba(0, 0, 0, 0.6)",t=r(t,i.boundingBox),n=r(n,i.boundingBox),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.stroke(),e.closePath()};function r(t,e){var r=(t.x-e.left)/e.width,o=(t.y-e.top)/e.height;return{x:r*n,y:(1-o)*i}}}},NEgR:function(t,e,n){var i=n("S3PC"),r="function getVelocity(p) {\n  var l = Math.sqrt(p.x * p.x + p.y * p.y);\n  return {\n    x: Math.cos(l),\n    y: Math.log(Math.abs(p.x))\n  };\n}",o={left:-5,top:-5,width:10,height:10},u={code:r,error:null,isImmediate:!1,setCode:function(t,e){var n=b(t);n&&(u.error=null,u.code=t,a.vectorField=n,e?y():u.immediate||w(),u.immediate=e)}},a={vectorField:null,seed:v,boundingBox:o,stepsPerIteration:15,timeStep:.01,dSep:.1,dTest:.005,onPointAdded:function(t,e){return l.beginPath(),l.strokeStyle=s,t=S(t),e=S(e),l.moveTo(t.x,t.y),l.lineTo(e.x,e.y),l.stroke(),l.closePath(),!0}},s="rgba(255, 255, 255, 0.6)",d="rgba(27, 41, 74, 1.0)";window.addEventListener("resize",w);var f,c,h,l,p,g,x={isDirty:!1,init:function(t){l=(h=t).getContext("2d"),a.vectorField=b(r),y()},fieldCode:u,redraw:y,getIntegrationProximity:function(){return a.dTest},setIntegrationProximity:function(t){var e=m(t,a.dTest);e<=0&&(e=.001),e>1&&(e=1),a.dTest=t,a.dTest>=a.dSep?x.settingsPanel.dWarning="Stop distance should be smaller than line distance":x.settingsPanel.dWarning="",w()},getFieldDensity:function(){return a.dSep},setFieldDensity:function(t){a.dSep=m(t,a.dSep),w()},getLineColor:function(){return s},setLineColor:function(t,e,n,i){s="rgba("+t+", "+e+", "+n+", "+i+")",w()},getFillColor:function(){return d},setFillColor:function(t,e,n,i){d="rgba("+t+", "+e+", "+n+", "+i+")",w()},getStepsPerIteration:function(){return a.stepsPerIteration},setStepsPerIteration:function(t){a.stepsPerIteration=m(t,a.stepsPerIteration),w()},getIntegrationTimeStep:function(){return a.timeStep},setIntegrationTimeStep:function(t){a.timeStep=m(t,a.timeStep),w()},settingsPanel:{collapsed:!0},moveBoundingBox:function(t){var e=m(t.minX,o.left),n=m(t.minY,o.top),i=m(t.maxX,e+o.width),r=m(t.maxY,n+o.height);o.left=e,o.top=n,o.width=i-e,o.height=Math.abs(n-r),w()},bounds:(f=o,{minX:f.left,minY:f.top,maxX:f.left+f.width,maxY:f.top+f.height})},v={x:o.left+Math.random()*o.width,y:o.top+Math.random()*o.height};function m(t,e){var n=Number.parseFloat(t);return Number.isNaN(n)?e:n}function y(){x.settingsPanel.isDirty=!1,p=window.innerWidth,g=window.innerHeight,h.width=p,h.height=g,l.clearRect(0,0,h.width,h.height),l.fillStyle=d,l.fillRect(0,0,h.width,h.height),function(){c&&(c.dispose(),c=null);(c=i(a)).run()}()}function w(){x.settingsPanel.isDirty=!0}function S(t){var e=(t.x-o.left)/o.width,n=(t.y-o.top)/o.height;return{x:e*p,y:(1-n)*g}}function b(t){try{var e=new Function(t+"\nreturn getVelocity;")();return e(v),e}catch(t){return u.error=t.message,null}}t.exports=x},R6aK:function(t,e,n){var i=n("7PpZ"),r=n("Y/iN"),o=n("0EQ5"),u=1,a=2,s=3;function d(t,e){return Math.abs(t-e)<1e-4}t.exports=function(t,e,n){var f=[t],c=t,h=u,l=null,p=-1,g=o(n.boundingBox,.9*n.timeStep);return{start:t,next:function(){for(;;){if(l=null,h===u){var e=y();if(e){f.push(e),g.occupyCoordinates(e),c=e;var n=P(e);if(n)return}else c=t,h=a}if(h===a){var e=w();if(e){f.unshift(e),c=e,g.occupyCoordinates(e);var n=P(e);if(n)return}else h=s}if(h===s)return f.forEach(m),!0}},getStreamline:function(){return f},getNextValidSeed:function(){for(;p<f.length-1;){var t=f[p+=1],r=T(t);if(r){var o=t.x-r.y*n.dSep,u=t.y+r.x*n.dSep;if(!e.isOutside(o,u)&&!e.isTaken(o,u,v))return p-=1,new i(o,u);var a=t.x+r.y*n.dSep,s=t.y-r.x*n.dSep;if(!e.isOutside(a,s)&&!e.isTaken(a,s,v))return new i(a,s)}}}};function x(t){return!d(t,n.dTest)&&t<n.dTest}function v(t){return!d(t,n.dSep)&&t<n.dSep}function m(t){e.occupyCoordinates(t)}function y(){var t=r(c,n.timeStep,T);if(t)return S(c,t)}function w(){var t=r(c,n.timeStep,T);if(t)return t=t.mulScalar(-1),S(c,t)}function S(t,n){if(l=t.add(n),!e.isOutside(l.x,l.y)&&!e.isTaken(l.x,l.y,x)&&!g.isTaken(l.x,l.y,b))return l}function b(t){return t<.9*n.timeStep}function P(t){var e=!1;return n.onPointAdded&&(e=n.onPointAdded(t,f[h===u?f.length-2:1],n)),e}function T(t){var t=n.vectorField(t);if(t&&!Number.isNaN(t.x)&&!Number.isNaN(t.y)){var e=t.x*t.x+t.y*t.y;if(0!==e)return e=Math.sqrt(e),new i(t.x/e,t.y/e)}}}},S3PC:function(t,e,n){t.exports=function(t){var e=Object.create(null);if(!t)throw new Error("Configuration is required to compute streamlines");t.boundingBox?(e.boundingBox={},Object.assign(e.boundingBox,t.boundingBox)):(console.warn("No bounding box passed to streamline. Creating default one"),e.boundingBox={left:-5,top:-5,width:10,height:10});!function(t){var e="Bounding box {left, top, width, height} is required";if(!t)throw new Error(e);c(t.left,e),c(t.top,e),"number"==typeof t.size&&(t.width=t.size,t.height=t.size);if(c(t.width,e),c(t.height,e),t.width<=0||t.height<=0)throw new Error("Bounding box cannot be empty")}(e.boundingBox);var n=e.boundingBox;e.vectorField=t.vectorField,e.onStreamlineAdded=t.onStreamlineAdded,e.onPointAdded=t.onPointAdded,t.seed?e.seed=new i(t.seed.x,t.seed.y):e.seed=new i(Math.random()*n.width+n.left,Math.random()*n.height+n.top);e.dSep=t.dSep>0?t.dSep:1/Math.max(n.width,n.height),e.dTest=t.dTest>0?t.dTest:.5*e.dSep;var h=r(n,e.dSep);e.timeStep=t.timeStep>0?t.timeStep:.01,e.stepsPerIteration=t.stepsPerIteration>0?t.stepsPerIteration:10;var l,p,g=e.stepsPerIteration,x=u,v=[],m=o(e.seed,h,e),y=!1,w=!1;return{run:function(){if(w)return;return w=!0,p=setTimeout(b,0),new Promise(S)},dispose:function(){y=!0,clearTimeout(p)}};function S(t){l=t}function b(){if(!y){for(var t=0;t<g;++t)if(x===u&&P(),x===a&&N(),x===s&&M(),x===f&&T(),x===d)return void l(e);p=setTimeout(b,0)}}function P(){var t=m.next();t&&(C(),x=s)}function T(){var t=v[0],n=t.getNextValidSeed();n?(m=o(n,h,e),x=a):(v.shift(),x=s)}function M(){x=0===v.length?d:f}function N(){var t=m.next();t&&(C(),x=f)}function C(){var t=m.getStreamline();t.length>1&&(v.push(m),e.onStreamlineAdded&&e.onStreamlineAdded(t,e))}},t.exports.renderTo=n("KCfz");var i=n("7PpZ"),r=n("0EQ5"),o=n("R6aK"),u=0,a=1,s=2,d=3,f=4;function c(t,e){if("number"!=typeof t||Number.isNaN(t))throw new Error(e)}},"Y/iN":function(t,e){t.exports=function(t,e,n){var i=n(t);if(!i)return;var r=n(t.add(i.mulScalar(.5*e)));if(!r)return;var o=n(t.add(r.mulScalar(.5*e)));if(!o)return;var u=n(t.add(o.mulScalar(e)));if(!u)return;return i.mulScalar(e/6).add(r.mulScalar(e/3)).add(o.mulScalar(e/3)).add(u.mulScalar(e/6))}},v3xi:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},viej:function(t,e,n){var i=n("NEgR"),r=document.getElementById("scene-canvas");r&&i.init(r),n.e(0).then(function(){n("NHnr")}.bind(null,n)).catch(n.oe)}},["viej"]);
//# sourceMappingURL=app.76190d8974a963e8d5e3.js.map